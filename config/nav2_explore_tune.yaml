global_costmap:
  ros__parameters:
    global_frame: map
    robot_base_frame: base_link
    resolution: 0.05
    width: 50.0
    height: 50.0
    origin_x: -25.0
    origin_y: -25.0
    rolling_window: false

    # ğŸ”‘ í”„ëŸ°í‹°ì–´ íƒì‚¬ìš© í•µì‹¬
    track_unknown_space: true        # ë¯¸íƒìƒ‰ ì˜ì—­ì„ unknownìœ¼ë¡œ ë³´ì¡´
    unknown_cost_value: 255

    # ì¥ì• ë¬¼ ë ˆì´ì–´ëŠ” ìœ ì§€í•˜ë˜ íŒ½ì°½ì„ ì™„í™”
    plugins: ["obstacle_layer","inflation_layer"]
    obstacle_layer:
      plugin: "nav2_costmap_2d::ObstacleLayer"
      observation_sources: scan
      scan:
        topic: /scan
        data_type: "LaserScan"
        marking: true
        clearing: true
        obstacle_range: 8.0
        raytrace_range: 9.0
    inflation_layer:
      plugin: "nav2_costmap_2d::InflationLayer"
      inflation_radius: 0.3         # â¬…ï¸ ì½”ë„ˆì—ì„œ ëœ ë§‰íˆë„ë¡ ì¶•ì†Œ(0.3~0.5 ì‚¬ì´ ì‹œë„)

local_costmap:
  ros__parameters:
    global_frame: odom
    robot_base_frame: base_link
    rolling_window: true
    width: 6.0
    height: 6.0
    resolution: 0.05
    plugins: ["obstacle_layer","inflation_layer"]
    obstacle_layer:
      plugin: "nav2_costmap_2d::ObstacleLayer"
      observation_sources: scan
      scan:
        topic: /scan
        data_type: "LaserScan"
        marking: true
        clearing: true
    inflation_layer:
      plugin: "nav2_costmap_2d::InflationLayer"
      inflation_radius: 0.4

controller_server:
  ros__parameters:
    controller_plugins: ["FollowPath"]
    FollowPath:
      plugin: "dwb_core::DWBLocalPlanner"
      critics: ["ObstacleFootprint","PathAlign","GoalAlign","PathDist","GoalDist","RotateToGoal"]
      robot_radius: 0.17              # â¬…ï¸ ì‹¤ì œë³´ë‹¤ ë„ˆë¬´ í¬ê²Œ ì¡ì§€ ë§ê¸°
      min_vel_x: 0.05
      max_vel_x: 0.40
      max_vel_theta: 1.0
      acc_lim_x: 0.5
      acc_lim_theta: 1.5
      vx_samples: 20
      vtheta_samples: 20
      sim_time: 2.0
      ObstacleFootprint.scale: 0.02
      PathAlign.scale: 32.0
      GoalAlign.scale: 24.0
      PathDist.scale: 32.0
      GoalDist.scale: 24.0
      RotateToGoal.scale: 32.0
      RotateToGoal.slowing_factor: 5.0
      RotateToGoal.lookahead_time: 0.5

behavior_server:
  ros__parameters:
    # ì§„í–‰/ëª©í‘œ í—ˆìš©ì¹˜ ì™„í™” â†’ ì½”ë„ˆì—ì„œ 'ë§‰í˜”ë‹¤' ì˜¤íŒ ì¤„ì´ê¸°
    progress_checker:
      plugin: "nav2_controller::SimpleProgressChecker"
      required_movement_radius: 0.25
      movement_time_allowance: 8.0
    goal_checker:
      plugin: "nav2_controller::SimpleGoalChecker"
      xy_goal_tolerance: 0.25
      yaw_goal_tolerance: 0.35
      stateful: False
