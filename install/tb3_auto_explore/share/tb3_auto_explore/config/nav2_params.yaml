# nav2_params.yaml (핵심만)
controller_server:
  ros__parameters:
    use_sim_time: True
    controller_plugins: ["FollowPath"]
    FollowPath:
      plugin: "dwb_core::DWBLocalPlanner"
      forward_point_distance: 0.35
      prune_distance: 0.5
      max_vel_x: 0.22
      min_vel_x: 0.05
      acc_lim_x: 0.5
      acc_lim_theta: 1.0
      path_distance_bias: 32.0
      goal_distance_bias: 20.0
      occdist_scale: 0.05

local_costmap:
  ros__parameters:
    update_frequency: 10.0
    publish_frequency: 10.0
    resolution: 0.05
    transform_tolerance: 0.25
    footprint_padding: 0.02
    plugins: ["obstacle_layer", "inflation_layer"]
    obstacle_layer:
      plugin: "nav2_costmap_2d::ObstacleLayer"
      observation_sources: scan
      scan:
        topic: /scan
        clearing: True
        marking: True
        inf_is_valid: True
        max_obstacle_height: 2.0
    inflation_layer:
      plugin: "nav2_costmap_2d::InflationLayer"
      inflation_radius: 0.6
      cost_scaling_factor: 3.0

global_costmap:
  ros__parameters:
    update_frequency: 2.0
    publish_frequency: 1.0
    resolution: 0.05
    transform_tolerance: 0.25
    plugins: ["obstacle_layer", "inflation_layer"]
    obstacle_layer:
      plugin: "nav2_costmap_2d::ObstacleLayer"
      observation_sources: scan
      scan:
        topic: /scan
        clearing: True
        marking: True
        inf_is_valid: True
        max_obstacle_height: 2.0
    inflation_layer:
      plugin: "nav2_costmap_2d::InflationLayer"
      inflation_radius: 0.6
      cost_scaling_factor: 3.0

planner_server:
  ros__parameters:
    expected_planner_frequency: 1.0
    planner_plugins: ["GridBased"]
    GridBased:
      plugin: "nav2_navfn_planner/NavfnPlanner"

bt_navigator:
  ros__parameters:
    use_sim_time: True
    progress_checker:
      plugin: "nav2_controller::SimpleProgressChecker"
      required_movement_speed: 0.05
      time_allowance: 5.0

